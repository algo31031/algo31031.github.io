<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>老男孩的整理箱</title>
  <meta name="author" content="banban">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.sns-simple.com">
  <link href="/favicon.png" type="image/png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="老男孩的整理箱" type="application/atom+xml">

  <link href="/assets/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/assets/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">
<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">


  <script src="/javascripts/libs/jquery/jquery-2.0.3.min.js"></script>
  

</head>

  <body   >
    <div id="wrap">
      <header role="banner">
        <nav class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">老男孩的整理箱</a>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="active">
                    <a href="/">Blog</a>
                </li>
                <li >
                    <a href="/blog/archives">Archives</a>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a class="subscribe-rss" href="/atom.xml" title="subscribe via RSS">
                        <span class="visible-xs">RSS</span>
                        <img class="hidden-xs" src="/images/rss.png" alt="RSS">
                    </a>
                </li>
                
            </ul>
            
                <form class="search navbar-form navbar-right" action="https://www.google.com/search" method="GET">
                    <input type="hidden" name="q" value="site:blog.sns-simple.com">
                    <div class="form-group">
                        <input class="form-control" type="text" name="q" placeholder="Search">
                    </div>
                </form>
            
        </div>
    </div>
</nav>


      </header>
      <div id="main" class="container">
        <div id="content">
          <div class="row">
  <div class="page-content col-md-9">
    <div class="blog-index">
      
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2014-04-08T16:32:34+08:00" pubdate data-updated="true">Apr 8<span>th</span>, 2014</time>
        
           | <a href="/blog/2014/04/08/ba-yi-qian-wang-yi-bo-ke-de-bu-fen-nei-rong-zhuan-guo-lai/#disqus_thread"
             data-disqus-identifier="http://blog.sns-simple.com/blog/2014/04/08/ba-yi-qian-wang-yi-bo-ke-de-bu-fen-nei-rong-zhuan-guo-lai/">Comments</a>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2014/04/08/ba-yi-qian-wang-yi-bo-ke-de-bu-fen-nei-rong-zhuan-guo-lai/">把以前网易博客的部分内容转过来</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>好吧，其实是以很不程序员的方式，手动逐篇粘过来的。。。</p>

<p>翻了下以前写的东西，能挪过来的还真寥寥。</p>

<p>算是正式搬家了吧。</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2014-04-04T15:48:39+08:00" pubdate data-updated="true">Apr 4<span>th</span>, 2014</time>
        
           | <a href="/blog/2014/04/04/jia-she-octopress-blog/#disqus_thread"
             data-disqus-identifier="http://blog.sns-simple.com/blog/2014/04/04/jia-she-octopress-blog/">Comments</a>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2014/04/04/jia-she-octopress-blog/">架设Octopress Blog</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>一直想弄个Blog整理些资料, 单靠胡乱的记到文件里放在Ubuntu One上， 既混乱查找起来也不方便。</p>

<p>碰巧前段时间因为工作需要开始研究AWS，遂去Godaddy注册了个域名，反正也不贵， AWS可以“免费”体验一年， 而Godaddy的.com域名一年只要56人民币，支持支付宝付款。 反正只是个blog不用考虑备案的诸多麻烦。</p>

<p>作为一个Rubist, 自然首选<a href="http://octopress.org/">Octrpress</a>。</p>

<p>简单记下架设的过程，也顺便熟悉下Octopress用法。</p>

<h2>安装Octopress</h2>

<p>注意需要Ruby 1.9.3及以上版本</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>git clone git://github.com/imathis/octopress.git octopress
</span><span class='line'><span class="nv">$ </span><span class="nb">cd </span>octopress
</span><span class='line'><span class="nv">$ </span>gem install bundler
</span><span class='line'><span class="nv">$ </span>bundle install
</span></code></pre></td></tr></table></div></figure>


<p>安装默认主题</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>rake install
</span></code></pre></td></tr></table></div></figure>


<p>也可以在<a href="https://github.com/imathis/octopress/wiki/3rd-Party-Octopress-Themes">这里</a>找到其他主题</p>

<p>选了一番决定用<a href="https://github.com/rezajatnika/greyjoy">Greyjoy</a>, 从github页看作者想必也是《冰与火之歌》的粉丝（Named after the messed up Theon Greyjoy.）。</p>

<p>安装greyjoy主题</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">cd</span> .themes
</span><span class='line'><span class="nv">$ </span>git clone git://github.com/rezajatnika/greyjoy.git
</span><span class='line'><span class="nv">$ </span>rake install<span class="o">[</span>greyjoy<span class="o">]</span>
</span><span class='line'><span class="nv">$ </span>rake generate
</span></code></pre></td></tr></table></div></figure>


<p>装完之后， 你就可以用<code>rake preview</code>预览下了</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>rake preview
</span></code></pre></td></tr></table></div></figure>


<p>在浏览器地址栏输入<code>localhost:4000</code>就能看到</p>

<h2>向Github User/Organization pages部署Octopress</h2>

<p>在github上添加一个repo, 并用 <code>username.github.io</code> 这种格式命名。其中username是你在github上的用户名或组织名。</p>

<p>Github User/Organization pages会把你rope的master分支用作在<code>http://username.github.io</code>发布的内容，相应的我们可以把source 分支作为我们源码的分支。Octopress已经提供了一个内建的rake task来帮我们搞定上述操作。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>rake setup_github_pages
</span></code></pre></td></tr></table></div></figure>


<p>这个rake  task会要你输入一个Github repo的url， 我我们创建完的repo的https/ssh url任选其一粘过来回车即可（比如我的： <code>git@github.com:algo31031/algo31031.github.io.git</code>）</p>

<p>之后想要发表blog只要执行</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>rake generate
</span><span class='line'><span class="nv">$ </span>rake deploy
</span></code></pre></td></tr></table></div></figure>


<p>就可以把我们的blog提交到github repo的master分支下，过段时间就可以在<code>http://username.github.io</code>看到blog已经部署成功。</p>

<p>不要忘记把源码也一起放到github</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>git add .
</span><span class='line'><span class="nv">$ </span>git commit -m <span class="s1">&#39;your message&#39;</span>
</span><span class='line'><span class="nv">$ </span>git push origin <span class="nb">source</span>
</span></code></pre></td></tr></table></div></figure>


<h2>使用自己的域名</h2>

<p>在source目录下创建一个名字是<code>CNAME</code>的文件，然后向CNAME里添加记录(二者择一即可, 或者干脆自己打开CNAME文件把<code>your-domain.com</code>或者<code>www.your-domain.com</code>考进去)</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">echo</span> <span class="s1">&#39;your-domain.com&#39;</span> &gt;&gt; <span class="nb">source</span>/CNAME
</span><span class='line'><span class="c"># OR</span>
</span><span class='line'><span class="nv">$ </span><span class="nb">echo</span> <span class="s1">&#39;www.your-domain.com&#39;</span> &gt;&gt; <span class="nb">source</span>/CNAME
</span></code></pre></td></tr></table></div></figure>


<p>然后去DNS服务商那里创建一条记录。如果用的子域名，只需要创建一个CNAME记录, 将子域名指向<code>http://username.github.io</code>。如果是主域名则需要A记录然后指定ip。</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-12-26T13:28:41+08:00" pubdate data-updated="true">Dec 26<span>th</span>, 2012</time>
        
           | <a href="/blog/2012/12/26/ubuntu-12-dot-04xia-an-zhuang-rmagick-bao-cuo-cant-install-rmagick-2-dot-12-dot-2-cant-find-magick-config/#disqus_thread"
             data-disqus-identifier="http://blog.sns-simple.com/blog/2012/12/26/ubuntu-12-dot-04xia-an-zhuang-rmagick-bao-cuo-cant-install-rmagick-2-dot-12-dot-2-cant-find-magick-config/">Comments</a>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2012/12/26/ubuntu-12-dot-04xia-an-zhuang-rmagick-bao-cuo-cant-install-rmagick-2-dot-12-dot-2-cant-find-magick-config/">Ubuntu 12.04下安装 RMagick 报错Can&#8217;t Install RMagick 2.12.2. Can&#8217;t Find Magick-config</a></h1>
    
  </header>


  <div class="entry-content clearfix">

<figure class='code'><figcaption><span>报错信息 </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>checking <span class="k">for </span>Magick-config... no
</span><span class='line'>Can<span class="s1">&#39;t install RMagick 2.12.2. Can&#39;</span>t find Magick-config in /home/hanbing/.rvm/gems/ruby-1.9.3-p125/bin:/home/hanbing/.rvm/gems/ruby-1.9.3-p125@global/bin:/home/hanbing/.rvm/rubies/ruby-1.9.3-p125/bin:/home/hanbing/.rvm/bin::/opt/android-sdk-linux/tools:/opt/android-sdk-linux/platform-tools:/usr/lib/lightdm/lightdm:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/home/hanbing/.rvm/bin
</span></code></pre></td></tr></table></div></figure>


<p>ImageMagick正确安装后还需要安装相应的dev包：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>sudo apt-get install libmagickwand-dev
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-10-19T09:29:55+08:00" pubdate data-updated="true">Oct 19<span>th</span>, 2012</time>
        
           | <a href="/blog/2012/10/19/shi-yong-jquery-fileupload-railszai-iexia-jin-xing-ajaxwen-jian-shang-chuan-shi-bai-de-jie-jue-ban-fa/#disqus_thread"
             data-disqus-identifier="http://blog.sns-simple.com/blog/2012/10/19/shi-yong-jquery-fileupload-railszai-iexia-jin-xing-ajaxwen-jian-shang-chuan-shi-bai-de-jie-jue-ban-fa/">Comments</a>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2012/10/19/shi-yong-jquery-fileupload-railszai-iexia-jin-xing-ajaxwen-jian-shang-chuan-shi-bai-de-jie-jue-ban-fa/">使用jquery-fileupload-rails在IE下进行AJAX文件上传失败的解决办法</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>症状：提示“illegal character”错误,上传失败</p>

<p>原因：Chrome, Firefox, Safari等浏览器本身支持XHR形式的文件上传，但IE不支持，于是Jquery-Fileupload自动在页面添加隐藏的iframe,于是在上传文件时造成 CSRF token 无法传递。</p>

<p>解决：</p>

<p>在View层添加：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='js+erb'><span class='line'>  <span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
</span><span class='line'>        <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#fileupload&#39;</span><span class="p">).</span><span class="nx">fileupload</span><span class="p">();</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="err">/script&gt;</span>
</span><span class='line'>  <span class="c">&lt;!--</span><span class="p">[</span><span class="k">if</span> <span class="nx">IE</span><span class="p">]</span><span class="o">&gt;</span>
</span><span class='line'>    <span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
</span><span class='line'>      <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#fileupload&#39;</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s1">&#39;fileuploadsend&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">auth_token</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;meta[name=&quot;csrf-token&quot;]&#39;</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;content&#39;</span><span class="p">);</span>
</span><span class='line'>        <span class="nx">data</span><span class="p">.</span><span class="nx">url</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s1">&#39;?authenticity_token=&#39;</span> <span class="o">+</span> <span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">auth_token</span><span class="p">);</span>
</span><span class='line'>        <span class="nx">$</span><span class="p">.</span><span class="nx">blueimpUI</span><span class="p">.</span><span class="nx">fileupload</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">send</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">event</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
</span><span class='line'>      <span class="p">});</span>
</span><span class='line'>    <span class="o">&lt;</span><span class="err">/script&gt;</span>
</span><span class='line'>  <span class="o">&lt;!</span><span class="p">[</span><span class="nx">endif</span><span class="p">]</span><span class="o">--&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p> 同时在controller里添加：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>  <span class="nb">format</span><span class="o">.</span><span class="n">html</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">render</span> <span class="ss">:json</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="vi">@episode</span><span class="o">.</span><span class="n">to_jq_upload</span><span class="o">].</span><span class="n">to_json</span><span class="p">,</span>
</span><span class='line'>    <span class="ss">:content_type</span> <span class="o">=&gt;</span> <span class="s1">&#39;text/plain&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="ss">:layout</span> <span class="o">=&gt;</span> <span class="kp">false</span>
</span><span class='line'>  <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-10-16T09:23:13+08:00" pubdate data-updated="true">Oct 16<span>th</span>, 2012</time>
        
           | <a href="/blog/2012/10/16/copyleftbiao-zhi/#disqus_thread"
             data-disqus-identifier="http://blog.sns-simple.com/blog/2012/10/16/copyleftbiao-zhi/">Comments</a>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2012/10/16/copyleftbiao-zhi/">Copyleft标志</a></h1>
    
  </header>


  <div class="entry-content clearfix">

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="c">&lt;!--[if lte IE 8]&gt;&lt;span style=&quot;filter: FlipH; -ms-filter: &quot;FlipH&quot;; display: inline-block;&quot;&gt;&lt;![endif]--&gt;</span> <span class="nt">&lt;span</span> <span class="na">style=</span><span class="s">&quot;-moz-transform: scaleX(-1); -o-transform: scaleX(-1); -webkit-transform: scaleX(-1); transform: scaleX(-1); display: inline-block;&quot;</span><span class="nt">&gt;</span>     <span class="ni">&amp;copy;</span> <span class="nt">&lt;/span&gt;</span> <span class="c">&lt;!--[if lte IE 8]&gt;&lt;/span&gt;&lt;![endif]--&gt;</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-10-15T09:47:43+08:00" pubdate data-updated="true">Oct 15<span>th</span>, 2012</time>
        
           | <a href="/blog/2012/10/15/mysqlzhong-wen-zi-duan-pin-yin-pai-xu/#disqus_thread"
             data-disqus-identifier="http://blog.sns-simple.com/blog/2012/10/15/mysqlzhong-wen-zi-duan-pin-yin-pai-xu/">Comments</a>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2012/10/15/mysqlzhong-wen-zi-duan-pin-yin-pai-xu/">MySQL中文字段拼音排序</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>不想改变表定义及默认编码的情况，将字段先转换成gbk编码再排序：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="k">table</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="k">CONVERT</span><span class="p">(</span> <span class="n">chinese_field</span> <span class="k">USING</span> <span class="n">gbk</span> <span class="p">)</span> <span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>前提是在安装mysql时安装了gbk字符集，不然会报错：</p>

<pre><code>#1115 - Unknown character set: 'gbk'
</code></pre>

<p>在编译源码时加上gbk编码即可，如果已经安装好了，重新编译再安装，重新编译安装一般不会影响mysql的已有设置，包括数据都不会受到影响。</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-04-09T10:56:15+08:00" pubdate data-updated="true">Apr 9<span>th</span>, 2012</time>
        
           | <a href="/blog/2012/04/09/pluralizeyu-i18nde-pei-he/#disqus_thread"
             data-disqus-identifier="http://blog.sns-simple.com/blog/2012/04/09/pluralizeyu-i18nde-pei-he/">Comments</a>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2012/04/09/pluralizeyu-i18nde-pei-he/">Pluralize与i18n的配合</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>locales文件</p>

<figure class='code'><figcaption><span>en.yml </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="l-Scalar-Plain">:en</span>
</span><span class='line'>  <span class="l-Scalar-Plain">:nights</span>
</span><span class='line'>    <span class="l-Scalar-Plain">:one =&gt; &#39;1 night&#39;,</span>
</span><span class='line'>    <span class="l-Scalar-Plain">:other =&gt; &#39;%{count} nights&#39;</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>zh-TW.yml </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'>
</span><span class='line'><span class="l-Scalar-Plain">:zh-TW</span>
</span><span class='line'>  <span class="l-Scalar-Plain">:nights     :one =&gt; &#39;1 晚&#39;,     :other =&gt; &#39;%{count} 晚&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>view层</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='erb'><span class='line'><span class="x">    view </span><span class="cp">&lt;%=</span> <span class="n">t</span><span class="p">(</span> <span class="s2">&quot;.nights&quot;</span><span class="p">,</span> <span class="ss">count</span><span class="p">:</span> <span class="vi">@nights</span> <span class="p">)</span> <span class="cp">%&gt;</span><span class="x"> </span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-04-06T11:46:21+08:00" pubdate data-updated="true">Apr 6<span>th</span>, 2012</time>
        
           | <a href="/blog/2012/04/06/an-zhuang-rmagickchu-cuo/#disqus_thread"
             data-disqus-identifier="http://blog.sns-simple.com/blog/2012/04/06/an-zhuang-rmagickchu-cuo/">Comments</a>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2012/04/06/an-zhuang-rmagickchu-cuo/">安装rmagick出错</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>报错信息</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Building native extensions.  This could take a while...
</span><span class='line'>ERROR:  Error installing rmagick:
</span><span class='line'>ERROR: Failed to build gem native extension.</span></code></pre></td></tr></table></div></figure>


<p>解决办法</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>sudo apt-get install libmagick9-dev
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-03-27T01:27:06+08:00" pubdate data-updated="true">Mar 27<span>th</span>, 2012</time>
        
           | <a href="/blog/2012/03/27/database-dot-ymlli-passwordru-guo-quan-bu-wei-shu-zi-xu-yao-jia/#disqus_thread"
             data-disqus-identifier="http://blog.sns-simple.com/blog/2012/03/27/database-dot-ymlli-passwordru-guo-quan-bu-wei-shu-zi-xu-yao-jia/">Comments</a>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2012/03/27/database-dot-ymlli-passwordru-guo-quan-bu-wei-shu-zi-xu-yao-jia/">database.yml里password如果全部为数字需要加&#8221;</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>database.yml里面密码采用全数字时，加 &lsquo; &rsquo;, 否则运行rake时报错： can&rsquo;t convert Fixnum into String</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-03-26T23:10:18+08:00" pubdate data-updated="true">Mar 26<span>th</span>, 2012</time>
        
           | <a href="/blog/2012/03/26/she-zhi-gemyuan-%2Cjie-jue-xia-zai-man-de-wen-ti/#disqus_thread"
             data-disqus-identifier="http://blog.sns-simple.com/blog/2012/03/26/she-zhi-gemyuan-%2Cjie-jue-xia-zai-man-de-wen-ti/">Comments</a>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2012/03/26/she-zhi-gemyuan-%2Cjie-jue-xia-zai-man-de-wen-ti/">设置gem源，解决下载慢的问题</a></h1>
    
  </header>


  <div class="entry-content clearfix"><h3>问题解决的最好方法方法</h3>

<p>使用google的DNS 8.8.8.8 / 8.8.4.4</p>

<h3>另一种解决方式</h3>

<p>修改rubygems的source源</p>

<p>删除原有gem source</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>gem <span class="nb">source</span> -r http://rubygems.org/
</span><span class='line'><span class="nv">$ </span>gem <span class="nb">source</span> -r http://production.s3.rubygems.org/
</span></code></pre></td></tr></table></div></figure>


<p>增加新source源</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>gem <span class="nb">source</span> -a http://production.s3.ru
</span></code></pre></td></tr></table></div></figure>


<h3>如果使用Bundler</h3>

<p>修改你的 Gemfile 将 <code>http://rubygems.org</code> 改为 <code>http://ruby.taobao.org/</code></p>
</div>
  
  


        </article>
      
    </div>

    <ul class="pager">
      
        <li class="previous"><a href="/blog/page/2/">&larr;&nbsp;Older</a></li>
      
      <li><a href="/blog/archives">Blog Archives</a></li>
      
        <li class="next disabled"><a href="#">Newer&nbsp;&rarr;</a></li>
      
    </ul>
  </div>

  
    <aside class="sidebar col-md-3">
      
        <section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Recent Posts</h3>
  </div>
  
  <div id="recent_posts" class="list-group">
    
    <a class="list-group-item " href="/blog/2014/04/08/ba-yi-qian-wang-yi-bo-ke-de-bu-fen-nei-rong-zhuan-guo-lai/">把以前网易博客的部分内容转过来</a>
    
    <a class="list-group-item " href="/blog/2014/04/04/jia-she-octopress-blog/">架设Octopress Blog</a>
    
    <a class="list-group-item " href="/blog/2012/12/26/ubuntu-12-dot-04xia-an-zhuang-rmagick-bao-cuo-cant-install-rmagick-2-dot-12-dot-2-cant-find-magick-config/">Ubuntu 12.04下安装 RMagick 报错Can&#8217;t Install RMagick 2.12.2. Can&#8217;t Find Magick-config</a>
    
    <a class="list-group-item " href="/blog/2012/10/19/shi-yong-jquery-fileupload-railszai-iexia-jin-xing-ajaxwen-jian-shang-chuan-shi-bai-de-jie-jue-ban-fa/">使用jquery-fileupload-rails在IE下进行AJAX文件上传失败的解决办法</a>
    
    <a class="list-group-item " href="/blog/2012/10/16/copyleftbiao-zhi/">Copyleft标志</a>
    
  </div>
</section>

<section class="panel panel-default clearfix">
  <div class="panel-heading">
      <h3 class="panel-title">GitHub Repos</h3>
  </div>
  <div class="list-group" id="gh_repos">
    <p class="loading">Status updating&#8230;</p>
  </div>
  
    <div class="gh-profile-link pull-right text-muted">
      <a href="https://github.com/algo31031">@algo31031</a> on GitHub
    </div>
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'algo31031',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>






      
    </aside>
  
</div>

        </div>
      </div>
    </div>
    <footer role="contentinfo"><div class="container">
    <p class="text-muted credits">
  Copyright &copy; 2014 - banban<br>
  <small>
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>,
      <span class="credit">customized with <a href="https://github.com/kAworu/octostrap3">octostrap3</a></span>.
  </small>
</p>

</div>
</footer>
    <script src="/assets/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/javascripts/modernizr-2.0.js"></script>


<script type="text/javascript">
      var disqus_shortname = 'banban';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











  </body>
</html>
